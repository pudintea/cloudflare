KONFIGURASI WAJIB DI CLOUDFLARE
1Ô∏è. Speed ‚Üí Optimization

Aktifkan:
‚úÖ Auto Minify (HTML, CSS, JS)
‚úÖ Brotli
‚ùå Rocket Loader (MATIKAN ‚Äì sering konflik WP)

2. Caching ‚Üí Configuration
Set:
Caching Level: Standard
Browser Cache TTL: 1 Month

3. Caching ‚Üí Cache Rules (PALING PENTING)
Buat RULE BARU:

üîπ Rule 1 ‚Äî Kasih Nama : Cache halaman publik WordPress

SETTING CACHE RULE YANG BENAR (WORDPRESS TANPA PLUGIN)

When incoming requests match‚Ä¶
Klik Custom filter expression
Isi dengan TEPAT seperti ini:

(http.request.method in {"GET" "HEAD"})
and
(not http.request.uri.path contains "/wp-admin")
and
(not http.request.uri.path contains "wp-login.php")
and
(not http.request.uri.path contains "/bo")

üìå Artinya:
Hanya cache halaman publik
Admin & login dikecualikan


BAGIAN 1 ‚Äî Cache eligibility (WAJIB)
üëâ PILIH:
‚úÖ Eligible for cache

üìå Artinya:
Cloudflare boleh cache response dari WordPress
(TANPA ini, TTFB tidak turun)

BAGIAN 2 ‚Äî Edge TTL (PALING PENTING)
üëâ PILIH:
Ignore cache-control header and use this TTL
TTL yang disarankan:
3600 seconds (1 hour)

*) Terkahir update hanya bisa 2 hours, tidak bisa 1 hours, pake 2 hours aja.

üìå Kenapa?
WordPress tidak mengirim cache-control HTML yang kuat
Kalau pakai ‚ÄúUse cache-control header‚Äù ‚Üí sering TIDAK KE-CACHE
Mode ini memaksa Cloudflare cache HTML
‚úÖ Aman untuk blog / company / sekolah
‚ö†Ô∏è Untuk toko online ‚Üí JANGAN cache cart & account


BAGIAN 3 ‚Äî Status Code TTL (BIARKAN KOSONG)
üëâ JANGAN diisi
Cloudflare default sudah cukup.

BAGIAN 4 ‚Äî Browser TTL
üëâ PILIH:
Respect origin TTL

üìå Kenapa?
Browser cache sudah diatur dari .htaccess
Aman untuk update konten
Tidak bikin konten basi


KONFIGURASI TAMBAHAN DI .htaccess (WAJIB)
<IfModule mod_headers.c>
  Header set Cache-Control "public, max-age=3600"
</IfModule>

CARA CEK BERHASIL ATAU TIDAK
Cek header via browser / GTmetrix:

Harus muncul:
cf-cache-status: HIT

Jika masih:
cf-cache-status: MISS
‚û°Ô∏è refresh 2‚Äì3 kali


================================== WP-CONFIG DAN HTACCESS YANG SAYA GUNAKAN ===========================

==============

// Enable WordPress internal cache
define('WP_CACHE', true);

// Security
define('DISALLOW_FILE_EDIT', true);

// Performance
//define('WP_POST_REVISIONS', 3);
define('AUTOSAVE_INTERVAL', 300);
define('EMPTY_TRASH_DAYS', 7);

// Debug OFF (production)
define('WP_DEBUG', false);
define('WP_DEBUG_LOG', false);
define('WP_DEBUG_DISPLAY', false);

// SSL
define('FORCE_SSL_ADMIN', true);

=============================================================================

# ===============================
# BASIC SECURITY
# ===============================
Options -Indexes

<Files wp-config.php>
  Order Allow,Deny
  Deny from all
</Files>

<FilesMatch "(^\.|readme\.html|license\.txt)">
  Order Allow,Deny
  Deny from all
</FilesMatch>

# Block PHP execution in uploads
<IfModule mod_php.c>
  <Directory wp-content/uploads>
    <FilesMatch "\.php$">
      Order Deny,Allow
      Deny from all
    </FilesMatch>
  </Directory>
</IfModule>


# ===============================
# GZIP COMPRESSION
# ===============================
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css
  AddOutputFilterByType DEFLATE application/javascript application/x-javascript
</IfModule>


# ===============================
# BROWSER & HTTP CACHE (CLOUDFLARE FRIENDLY)
# ===============================

# Cache HTML (WordPress pages)
<IfModule mod_headers.c>
  Header set Cache-Control "public, max-age=3600"
</IfModule>

# Cache static files (long TTL)
<IfModule mod_expires.c>
  ExpiresActive On

  ExpiresByType text/css "access plus 1 month"
  ExpiresByType application/javascript "access plus 1 month"

  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresByType image/png "access plus 1 year"
  ExpiresByType image/gif "access plus 1 year"
</IfModule>

<IfModule mod_headers.c>
  <FilesMatch "\.(css|js|jpg|jpeg|png|gif|ico)$">
    Header set Cache-Control "public, max-age=31536000"
  </FilesMatch>
</IfModule>

# ===============================
# XMLRPC (disable if not used)
# ===============================
<Files xmlrpc.php>
  Order Allow,Deny
  Deny from all
</Files>

# ===============================
# WORDPRESS DEFAULT RULE
# ===============================
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>
# END WordPress



=============== PUDIN SAEPUDIN : italazhar.com
